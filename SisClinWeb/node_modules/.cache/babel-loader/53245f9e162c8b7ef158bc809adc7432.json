{"ast":null,"code":"var _jsxFileName = \"D:\\\\WWW\\\\TesteUnivag\\\\SisClinWeb\\\\src\\\\components\\\\employee\\\\EmployeeCrud.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Main from '../template/Main';\nconst headerProps = {\n  icon: 'users',\n  title: 'Funcionário',\n  subtitle: 'Cadastro de Funcionário: Incluir, Listar, Alterar e Excluir'\n};\nconst baseUrl = 'http://localhost:52727/api/Employee';\nconst initialState = {\n  Employee: {\n    EmployeeName: '',\n    Department: '',\n    EmployeeRg: '',\n    EmployeeCpf: '',\n    EmployeeStatus\n  },\n  list: []\n};\nexport default class EmployeeCrud extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n  }\n\n  componentWillMount() {\n    axios(baseUrl).then(resp => {\n      this.setState({\n        list: resp.data\n      });\n    });\n  }\n\n  clear() {\n    this.setState({\n      Employee: initialState.Employee\n    });\n  }\n\n  save() {\n    const Employee = this.state.Employee;\n    const method = Employee.id ? 'put' : 'post';\n    const url = Employee.id ? `${baseUrl}/${Employee.id}` : baseUrl;\n    axios[method](url, Employee).then(resp => {\n      const list = this.getUpdatedList(resp.data);\n      this.setState({\n        Employee: initialState.Employee,\n        list\n      });\n    });\n  }\n\n  getUpdatedList(employee, add = true) {\n    const list = this.state.list.filter(e => e.id !== employee.id);\n    if (add) list.unshift(employee);\n    return list;\n  }\n\n  updateField(event) {\n    const employee = { ...this.state.employee\n    };\n    employee[event.target.name] = event.target.value;\n    this.setState({\n      employee\n    });\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployeeName\",\n      value: this.state.Employee.EmployeeName,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o nome...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, \"Departamento\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"Departamento\",\n      value: this.state.user.name,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o Departamento...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, \"RG\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployeeRG\",\n      value: this.state.user.name,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o RG...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"CPF\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployeeCPF\",\n      value: this.state.user.name,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o CPF...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: e => this.save(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, \"Salvar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secondary ml-2\",\n      onClick: e => this.clear(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, \"Cancelar\"))));\n  }\n\n  load(user) {\n    this.setState({\n      user\n    });\n  }\n\n  remove(user) {\n    axios.delete(`${baseUrl}/${user.id}`).then(resp => {\n      const list = this.getUpdatedList(user, false);\n      this.setState({\n        list\n      });\n    });\n  }\n\n  renderTable() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Departamento\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, \"RG\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \"CPF\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"A\\xE7\\xF5es\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, this.renderRows()));\n  }\n\n  renderRows() {\n    return this.state.list.map(user => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: user.departmentId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, user.departmentId), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, user.departmentName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, user.department), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }, user.departmentRg), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, user.departmentCpf), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, user.departmentStatus), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: () => this.load(user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger ml-2\",\n        onClick: () => this.remove(user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }))));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Main, Object.assign({}, headerProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }), this.renderForm(), this.renderTable());\n  }\n\n}","map":{"version":3,"sources":["D:/WWW/TesteUnivag/SisClinWeb/src/components/employee/EmployeeCrud.jsx"],"names":["React","Component","axios","Main","headerProps","icon","title","subtitle","baseUrl","initialState","Employee","EmployeeName","Department","EmployeeRg","EmployeeCpf","EmployeeStatus","list","EmployeeCrud","state","componentWillMount","then","resp","setState","data","clear","save","method","id","url","getUpdatedList","employee","add","filter","e","unshift","updateField","event","target","name","value","renderForm","user","load","remove","delete","renderTable","renderRows","map","departmentId","departmentName","department","departmentRg","departmentCpf","departmentStatus","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport Main from '../template/Main'\r\n\r\nconst headerProps = {\r\n    icon: 'users',\r\n    title: 'Funcionário',\r\n    subtitle: 'Cadastro de Funcionário: Incluir, Listar, Alterar e Excluir'\r\n}\r\n\r\nconst baseUrl = 'http://localhost:52727/api/Employee'\r\nconst initialState = {\r\n    Employee: { EmployeeName: '', Department: '', EmployeeRg: '', EmployeeCpf: '', EmployeeStatus },\r\n    list: []\r\n}\r\n\r\nexport default class EmployeeCrud extends Component {\r\n    state = { ...initialState }\r\n\r\n    componentWillMount() {\r\n        axios(baseUrl).then(resp => {\r\n            this.setState({ list: resp.data })\r\n        })\r\n    }\r\n\r\n    clear() {\r\n        this.setState({ Employee: initialState.Employee })\r\n    }\r\n\r\n    save() {\r\n        const Employee = this.state.Employee\r\n        const method = Employee.id ? 'put' : 'post'\r\n        const url = Employee.id ? `${baseUrl}/${Employee.id}` : baseUrl\r\n        axios[method](url, Employee)\r\n            .then(resp => {\r\n                const list = this.getUpdatedList(resp.data)\r\n                this.setState({ Employee: initialState.Employee, list })\r\n            })\r\n    }\r\n\r\n    getUpdatedList(employee, add = true) {\r\n        const list = this.state.list.filter(e => e.id !== employee.id)\r\n        if (add) list.unshift(employee)\r\n        return list\r\n    }\r\n\r\n    updateField(event) {\r\n        const employee = { ...this.state.employee }\r\n        employee[event.target.name] = event.target.value\r\n        this.setState({ employee })\r\n    }\r\n\r\n    renderForm() {\r\n        return (\r\n            <div className=\"form\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>Nome</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployeeName\"\r\n                                value={this.state.Employee.EmployeeName}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o nome...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>Departamento</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"Departamento\"\r\n                                value={this.state.user.name}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o Departamento...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>RG</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployeeRG\"\r\n                                value={this.state.user.name}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o RG...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>CPF</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployeeCPF\"\r\n                                value={this.state.user.name}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o CPF...\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-end\">\r\n                        <button className=\"btn btn-primary\" onClick={e => this.save(e)}>Salvar</button>\r\n                        <button className=\"btn btn-secondary ml-2\" onClick={e => this.clear(e)}>Cancelar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    load(user) {\r\n        this.setState({ user })\r\n    }\r\n\r\n    remove(user) {\r\n        axios.delete(`${baseUrl}/${user.id}`).then(resp => {\r\n            const list = this.getUpdatedList(user, false)\r\n            this.setState({ list })\r\n        })\r\n    }\r\n\r\n    renderTable() {\r\n        return (\r\n            <table className=\"table mt-4\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nome</th>\r\n                        <th>Departamento</th>\r\n                        <th>RG</th>\r\n                        <th>CPF</th>\r\n                        <th>Status</th>\r\n                        <th>Ações</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.renderRows()}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n    renderRows() {\r\n        return this.state.list.map(user => {\r\n            return (\r\n                <tr key={user.departmentId}>\r\n                    <td>{user.departmentId}</td>\r\n                    <td>{user.departmentName}</td>\r\n                    <td>{user.department}</td>\r\n                    <td>{user.departmentRg}</td>\r\n                    <td>{user.departmentCpf}</td>\r\n                    <td>{user.departmentStatus}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-warning\" onClick={() => this.load(user)} >\r\n                            <i className=\"fa fa-pencil\"></i>\r\n                        </button>\r\n                        <button className=\"btn btn-danger ml-2\" onClick={() => this.remove(user)} >\r\n                            <i className=\"fa fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Main {...headerProps}>\r\n                {this.renderForm()}\r\n                {this.renderTable()}\r\n            </Main>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}