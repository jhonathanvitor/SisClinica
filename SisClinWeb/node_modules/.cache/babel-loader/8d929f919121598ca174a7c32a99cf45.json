{"ast":null,"code":"var _jsxFileName = \"D:\\\\www\\\\SisClinica\\\\SisClinWeb\\\\src\\\\components\\\\employee\\\\EmployeeCrud.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Main from '../template/Main';\nconst headerProps = {\n  icon: 'users',\n  title: 'Funcionário',\n  subtitle: 'Cadastro de Funcionário'\n};\nconst baseUrl = 'http://localhost:50001/api/Employers';\nconst initialState = {\n  Employer: {\n    EmployerName: '',\n    Department: '',\n    EmployerRg: '',\n    EmployerCpf: '',\n    Tipe: ''\n  },\n  list: []\n};\nexport default class EmployerCrud extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n  }\n\n  componentWillMount() {\n    axios(baseUrl).then(resp => {\n      this.setState({\n        list: resp.data\n      });\n    });\n  }\n\n  clear() {\n    this.setState({\n      Employer: initialState.Employer\n    });\n  }\n\n  save() {\n    const Employer = this.state.Employer;\n    Employer.EmployerName = parseInt(Employer.EmployerName);\n    Employer.EmployerRg = parseInt(Employer.EmployerRg);\n    Employer.EmployerCpf = parseInt(Employer.EmployerCpf);\n    Employer.Tipe = parseInt(Employer.Tipe);\n    const method = Employer.id ? 'put' : 'post';\n    const url = Employer.id ? `${baseUrl}/${Employer.id}` : baseUrl;\n    axios[method](url, Employer).then(resp => {\n      const list = this.getUpdatedList(resp.data);\n      this.setState({\n        Employer: initialState.Employer,\n        list\n      });\n    });\n  }\n\n  getUpdatedList(Employer, add = true) {\n    const list = this.state.list.filter(e => e.id !== Employer.id);\n    if (add) list.unshift(Employer);\n    return list;\n  }\n\n  updateField(event) {\n    const Employer = { ...this.state.Employer\n    };\n    Employer[event.target.name] = event.target.value;\n    this.setState({\n      Employer\n    });\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployerName\",\n      value: this.state.Employer.EmployerName,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o nome...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, \"RG\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployerRg\",\n      value: this.state.Employer.EmployerRG,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o RG...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"CPF\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployerCpf\",\n      value: this.state.Employer.EmployerCpf,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o CPF...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, \"Tipe\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"EmployerStatus\",\n      value: this.state.Employer.Tipe,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o Status...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: e => this.save(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, \"Salvar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secondary ml-2\",\n      onClick: e => this.clear(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"Cancelar\"))));\n  }\n\n  load(Employer) {\n    this.setState({\n      Employer\n    });\n  }\n\n  remove(Employer) {\n    axios.delete(`${baseUrl}/${Employer.id}`).then(resp => {\n      const list = this.getUpdatedList(Employer, false);\n      this.setState({\n        list\n      });\n    });\n  }\n\n  renderTable() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"RG\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, \"CPF\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Tipo\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"A\\xE7\\xF5es\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, this.renderRows()));\n  }\n\n  renderRows() {\n    return this.state.list.map(Employer => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: Employer.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, Employer.EmployerId), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, Employer.EmployerName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, Employer.Department), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }, Employer.EmployerRg), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, Employer.EmployerCpf), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, Employer.EmployerStatus), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: () => this.load(Employer),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger ml-2\",\n        onClick: () => this.remove(Employer),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 29\n        }\n      }))));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Main, Object.assign({}, headerProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }), this.renderForm(), this.renderTable());\n  }\n\n}","map":{"version":3,"sources":["D:/www/SisClinica/SisClinWeb/src/components/employee/EmployeeCrud.jsx"],"names":["React","Component","axios","Main","headerProps","icon","title","subtitle","baseUrl","initialState","Employer","EmployerName","Department","EmployerRg","EmployerCpf","Tipe","list","EmployerCrud","state","componentWillMount","then","resp","setState","data","clear","save","parseInt","method","id","url","getUpdatedList","add","filter","e","unshift","updateField","event","target","name","value","renderForm","EmployerRG","load","remove","delete","renderTable","renderRows","map","EmployerId","EmployerStatus","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport Main from '../template/Main'\r\n\r\nconst headerProps = {\r\n    icon: 'users',\r\n    title: 'Funcionário',\r\n    subtitle: 'Cadastro de Funcionário'\r\n}\r\n\r\nconst baseUrl = 'http://localhost:50001/api/Employers'\r\nconst initialState = {\r\n    Employer: { EmployerName: '', Department: '', EmployerRg: '', EmployerCpf: '', Tipe: '' },\r\n    list: []\r\n}\r\n\r\nexport default class EmployerCrud extends Component {\r\n    state = { ...initialState }\r\n\r\n    componentWillMount() {\r\n        axios(baseUrl).then(resp => {\r\n            this.setState({ list: resp.data })\r\n        })\r\n    }\r\n\r\n    clear() {\r\n        this.setState({ Employer: initialState.Employer })\r\n    }\r\n\r\n    save() {\r\n        const Employer = this.state.Employer;\r\n        Employer.EmployerName = parseInt(Employer.EmployerName);\r\n        Employer.EmployerRg = parseInt(Employer.EmployerRg);\r\n        Employer.EmployerCpf = parseInt(Employer.EmployerCpf);\r\n        Employer.Tipe = parseInt(Employer.Tipe);\r\n        const method = Employer.id ? 'put' : 'post'\r\n        const url = Employer.id ? `${baseUrl}/${Employer.id}` : baseUrl\r\n        axios[method](url, Employer)\r\n            .then(resp => {\r\n                const list = this.getUpdatedList(resp.data)\r\n                this.setState({ Employer: initialState.Employer, list })\r\n            })\r\n    }\r\n\r\n    getUpdatedList(Employer, add = true) {\r\n        const list = this.state.list.filter(e => e.id !== Employer.id)\r\n        if (add) list.unshift(Employer)\r\n        return list\r\n    }\r\n\r\n    updateField(event) {\r\n        const Employer = { ...this.state.Employer }\r\n        Employer[event.target.name] = event.target.value\r\n        this.setState({ Employer })\r\n    }\r\n\r\n    renderForm() {\r\n        return (\r\n            <div className=\"form\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>Nome</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployerName\"\r\n                                value={this.state.Employer.EmployerName}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o nome...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>RG</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployerRg\"\r\n                                value={this.state.Employer.EmployerRG}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o RG...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>CPF</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployerCpf\"\r\n                                value={this.state.Employer.EmployerCpf}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o CPF...\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"form-group\">\r\n                            <label>Tipe</label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"EmployerStatus\"\r\n                                value={this.state.Employer.Tipe}\r\n                                onChange={e => this.updateField(e)}\r\n                                placeholder=\"Digite o Status...\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex justify-content-end\">\r\n                        <button className=\"btn btn-primary\" onClick={e => this.save(e)}>Salvar</button>\r\n                        <button className=\"btn btn-secondary ml-2\" onClick={e => this.clear(e)}>Cancelar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    load(Employer) {\r\n        this.setState({ Employer })\r\n    }\r\n\r\n    remove(Employer) {\r\n        axios.delete(`${baseUrl}/${Employer.id}`).then(resp => {\r\n            const list = this.getUpdatedList(Employer, false)\r\n            this.setState({ list })\r\n        })\r\n    }\r\n\r\n    renderTable() {\r\n        return (\r\n            <table className=\"table mt-4\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nome</th>\r\n                        <th>RG</th>\r\n                        <th>CPF</th>\r\n                        <th>Tipo</th>\r\n                        <th>Ações</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.renderRows()}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n    renderRows() {\r\n        return this.state.list.map(Employer => {\r\n            return (\r\n                <tr key={Employer.id}>\r\n                    <td>{Employer.EmployerId}</td>\r\n                    <td>{Employer.EmployerName}</td>\r\n                    <td>{Employer.Department}</td>\r\n                    <td>{Employer.EmployerRg}</td>\r\n                    <td>{Employer.EmployerCpf}</td>\r\n                    <td>{Employer.EmployerStatus}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-warning\" onClick={() => this.load(Employer)} >\r\n                            <i className=\"fa fa-pencil\"></i>\r\n                        </button>\r\n                        <button className=\"btn btn-danger ml-2\" onClick={() => this.remove(Employer)} >\r\n                            <i className=\"fa fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Main {...headerProps}>\r\n                {this.renderForm()}\r\n                {this.renderTable()}\r\n            </Main>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}